<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FangDootle - Modern Search</title>
<style>
  :root {
    --primary: #4285f4;
    --secondary: #ea4335;
    --background: #ffffff;
    --text: #202124;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  * {
    box-sizing: border-box;
    transition: all 0.2s ease;
  }

  body {
    margin: 0;
    font-family: 'Inter', system-ui;
    background: var(--background);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
    background: linear-gradient(135deg, var(--primary), #2b6cd4);
    color: white;
    padding: 1.5rem;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
  }

  header::after {
    content: '';
    position: absolute;
    bottom: -50px;
    right: -50px;
    width: 150px;
    height: 150px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
  }

  .search-container {
    max-width: 800px;
    margin: 2rem auto;
    width: 90%;
    position: relative;
  }

  .search-box {
    display: flex;
    gap: 1rem;
    background: white;
    border-radius: 50px;
    padding: 0.5rem;
    box-shadow: var(--shadow);
  }

  .search-input {
    flex: 1;
    border: none;
    padding: 1.25rem;
    font-size: 1.1rem;
    background: transparent;
    color: var(--text);
  }

  .search-input:focus {
    outline: none;
  }

  .search-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 0 2rem;
    border-radius: 40px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .search-btn:hover {
    background: #2b6cd4;
    transform: scale(0.98);
  }

  .powered-by {
    text-align: center;
    color: #5f6368;
    margin-top: 1rem;
    font-size: 0.9rem;
  }

  /* Iframe Styling */
  #urlFrameContainer {
    margin: 2rem auto;
    max-width: 800px;
    width: 90%;
    display: none;
    border-radius: 16px;
    box-shadow: var(--shadow);
    background: white;
    overflow: hidden;
  }

  #urlFrame {
    width: 100%;
    height: 70vh;
    border: none;
    border-radius: 16px;
  }

  /* Google Results Styling */
  .gcse-searchresults-only {
    margin: 2rem auto;
    max-width: 800px;
    width: 90%;
    display: none;
  }

  .gsc-control-cse {
    background: transparent!important;
    border: none!important;
    padding: 0!important;
  }

  .gsc-result {
    background: white!important;
    border-radius: 16px!important;
    padding: 2rem!important;
    margin-bottom: 1.5rem!important;
    box-shadow: var(--shadow)!important;
    border: 1px solid rgba(0, 0, 0, 0.05)!important;
  }

  .gsc-result:hover {
    transform: translateY(-2px);
  }

  @media (max-width: 600px) {
    .search-box {
      flex-direction: column;
      border-radius: 25px;
      padding: 0.5rem 1rem;
    }

    .search-btn {
      padding: 1rem;
      justify-content: center;
    }

    #urlFrame {
      height: 60vh;
    }
  }
</style>
</head>
<body>

<header>
  <h1>FangDootle</h1>
  <p>Smart Search & Browse</p>
</header>

<div class="search-container">
  <div class="search-box">
    <input type="text" 
           class="search-input" 
           id="searchInput" 
           placeholder="Enter URL or search terms..."
           aria-label="Search">
    <button class="search-btn" id="searchBtn">
      <span>Go</span>
    </button>
  </div>
</div>

<div id="urlFrameContainer">
  <iframe id="urlFrame" title="Website Viewer"></iframe>
</div>

<script async src="https://cse.google.com/cse.js?cx=b3ca3c210ee814d78"></script>
<div class="gcse-searchresults-only"></div>

<script>
const searchInput = document.getElementById('searchInput');
const searchResults = document.querySelector('.gcse-searchresults-only');
const iframeContainer = document.getElementById('urlFrameContainer');
const urlFrame = document.getElementById('urlFrame');

function isValidURL(str) {
  const pattern = new RegExp(
    '^(https?:\\/\\/)?' +
    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' +
    '((\\d{1,3}\\.){3}\\d{1,3}))' +
    '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' +
    '(\\?[;&a-z\\d%_.~+=-]*)?' +
    '(\\#[-a-z\\d_]*)?$','i'
  );
  return !!pattern.test(str);
}

function handleInput(query) {
  if (isValidURL(query)) {
    // Handle URL input
    const url = query.includes('://') ? query : `http://${query}`;
    iframeContainer.style.display = 'block';
    searchResults.style.display = 'none';
    urlFrame.src = url;
    window.scrollTo({ top: 400, behavior: 'smooth' });
  } else {
    // Handle search query
    iframeContainer.style.display = 'none';
    const googleSearchBox = document.querySelector('.gsc-input input');
    if (googleSearchBox) {
      googleSearchBox.value = query;
      googleSearchBox.dispatchEvent(new Event('input', { bubbles: true }));
      searchResults.style.display = 'block';
      window.scrollTo({ top: 400, behavior: 'smooth' });
    }
  }
}

// Event Listeners
document.getElementById('searchBtn').addEventListener('click', () => {
  const query = searchInput.value.trim();
  if(query) handleInput(query);
});

searchInput.addEventListener('keypress', e => {
  if(e.key === 'Enter') {
    const query = e.target.value.trim();
    if(query) handleInput(query);
  }
});

// Result animation observer
new MutationObserver(() => {
  document.querySelectorAll('.gsc-result').forEach(result => {
    result.style.opacity = '0';
    setTimeout(() => result.style.opacity = '1', 100);
  });
}).observe(document.body, { childList: true, subtree: true });
</script>

<p class="powered-by">Powered by Google Search</p>

</body>
</html>
